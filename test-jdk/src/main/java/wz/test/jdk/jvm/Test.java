package wz.test.jdk.jvm;

import com.alibaba.fastjson.JSON;

import java.util.Map;

/**
 * Created by wangz on 17-9-30.
 */
public class Test {
    public static void main(String[] args) {
        String json = "{\"active\":true,\"include_layout\":true,\"json_data\":\"{\\\"_id\\\":\\\"\\\"," +
                "\\\"icon_path\\\":\\\"A_201705_10_d100aba35e484ac08bc4dc5bc92e61c6.png\\\",\\\"icon_index\\\":0,\\\"api_name\\\":\\\"object_K8gs1__c\\\",\\\"display_name\\\":\\\"我的自定义对象111\\\",\\\"description\\\":\\\"\\\",\\\"version\\\":1,\\\"fields\\\":{\\\"name\\\":{\\\"type\\\":\\\"text\\\",\\\"api_name\\\":\\\"name\\\",\\\"is_required\\\":false,\\\"help_text\\\":\\\"\\\",\\\"label\\\":\\\"单行文本\\\",\\\"resource_bundle_key\\\":null,\\\"is_unique\\\":true,\\\"status\\\":\\\"new\\\",\\\"is_index\\\":true,\\\"define_type\\\":\\\"system\\\",\\\"is_active\\\":true,\\\"max_length\\\":100,\\\"is_readonly\\\":false},\\\"owner\\\":{\\\"type\\\":\\\"employee\\\",\\\"api_name\\\":\\\"owner\\\",\\\"is_required\\\":false,\\\"help_text\\\":\\\"\\\",\\\"label\\\":\\\"负责人\\\",\\\"resource_bundle_key\\\":null,\\\"is_unique\\\":false,\\\"status\\\":\\\"new\\\",\\\"is_index\\\":true,\\\"define_type\\\":\\\"package\\\",\\\"is_active\\\":true,\\\"is_single\\\":true,\\\"employee_list\\\":[],\\\"is_need_convert\\\":false,\\\"is_readonly\\\":false},\\\"owner_department\\\":{\\\"type\\\":\\\"text\\\",\\\"api_name\\\":\\\"owner_department\\\",\\\"is_required\\\":false,\\\"help_text\\\":\\\"\\\",\\\"label\\\":\\\"负责人所在部门\\\",\\\"resource_bundle_key\\\":null,\\\"is_unique\\\":false,\\\"status\\\":\\\"new\\\",\\\"is_index\\\":false,\\\"define_type\\\":\\\"package\\\",\\\"is_active\\\":true,\\\"max_length\\\":100,\\\"is_readonly\\\":false,\\\"department_list\\\":[],\\\"is_need_convert\\\":false,\\\"is_single\\\":true,\\\"page_acitve\\\":true},\\\"created_by\\\":{\\\"type\\\":\\\"text\\\",\\\"api_name\\\":\\\"created_by\\\",\\\"is_required\\\":false,\\\"help_text\\\":\\\"创建人\\\",\\\"label\\\":\\\"创建人\\\",\\\"resource_bundle_key\\\":null,\\\"is_unique\\\":false,\\\"status\\\":\\\"released\\\",\\\"is_index\\\":true,\\\"define_type\\\":\\\"system\\\",\\\"is_active\\\":true,\\\"max_length\\\":200,\\\"is_readonly\\\":false,\\\"description\\\":\\\"创建人\\\",\\\"is_need_convert\\\":false,\\\"pattern\\\":\\\"\\\"},\\\"create_time\\\":{\\\"type\\\":\\\"date_time\\\",\\\"api_name\\\":\\\"create_time\\\",\\\"is_required\\\":false,\\\"help_text\\\":\\\"创建时间\\\",\\\"label\\\":\\\"创建时间\\\",\\\"resource_bundle_key\\\":null,\\\"is_unique\\\":false,\\\"status\\\":\\\"released\\\",\\\"is_index\\\":true,\\\"define_type\\\":\\\"system\\\",\\\"is_active\\\":true,\\\"time_zone\\\":\\\"GMT+8\\\",\\\"date_format\\\":\\\"yyyy-MM-dd HH:mm:ss\\\",\\\"is_readonly\\\":false,\\\"description\\\":\\\"创建时间\\\",\\\"is_need_convert\\\":false,\\\"max_length\\\":200,\\\"pattern\\\":\\\"\\\"},\\\"last_modified_by\\\":{\\\"type\\\":\\\"text\\\",\\\"api_name\\\":\\\"last_modified_by\\\",\\\"is_required\\\":false,\\\"help_text\\\":\\\"最后修改人\\\",\\\"label\\\":\\\"最后修改人\\\",\\\"resource_bundle_key\\\":null,\\\"is_unique\\\":false,\\\"status\\\":\\\"released\\\",\\\"is_index\\\":true,\\\"define_type\\\":\\\"system\\\",\\\"is_active\\\":true,\\\"max_length\\\":200,\\\"is_readonly\\\":false,\\\"description\\\":\\\"最后修改人\\\",\\\"is_need_convert\\\":false,\\\"pattern\\\":\\\"\\\"},\\\"last_modified_time\\\":{\\\"type\\\":\\\"date_time\\\",\\\"api_name\\\":\\\"last_modified_time\\\",\\\"is_required\\\":false,\\\"help_text\\\":\\\"最后修改时间\\\",\\\"label\\\":\\\"最后修改时间\\\",\\\"resource_bundle_key\\\":null,\\\"is_unique\\\":false,\\\"status\\\":\\\"released\\\",\\\"is_index\\\":true,\\\"define_type\\\":\\\"system\\\",\\\"is_active\\\":true,\\\"time_zone\\\":\\\"\\\",\\\"date_format\\\":\\\"yyyy-MM-dd HH:mm:ss\\\",\\\"is_readonly\\\":false,\\\"description\\\":\\\"最后修改时间\\\",\\\"is_need_convert\\\":false,\\\"max_length\\\":200,\\\"pattern\\\":\\\"\\\"}},\\\"index_version\\\":1,\\\"default_detail_layout\\\":\\\"\\\",\\\"is_active\\\":true,\\\"status\\\":\\\"released\\\",\\\"package\\\":\\\"CRM\\\",\\\"define_type\\\":\\\"custom\\\"}\",\"json_layout\":\"{\\\"components\\\":[{\\\"api_name\\\":\\\"form_component\\\",\\\"type\\\":\\\"form\\\",\\\"field_section\\\":[{\\\"header\\\":\\\"基本信息\\\",\\\"is_show\\\":true,\\\"tab_index\\\":\\\"ltr\\\",\\\"column\\\":2,\\\"api_name\\\":\\\"base_field_section__c\\\",\\\"form_fields\\\":[{\\\"field_name\\\":\\\"name\\\",\\\"render_type\\\":\\\"text\\\",\\\"is_required\\\":true,\\\"is_readonly\\\":false},{\\\"field_name\\\":\\\"owner\\\",\\\"render_type\\\":\\\"employee\\\",\\\"is_required\\\":true,\\\"is_readonly\\\":false},{\\\"field_name\\\":\\\"owner_department\\\",\\\"render_type\\\":\\\"text\\\",\\\"is_required\\\":false,\\\"is_readonly\\\":false},{\\\"field_name\\\":\\\"record_type\\\",\\\"render_type\\\":\\\"record_type\\\",\\\"is_required\\\":true,\\\"is_readonly\\\":false}]},{\\\"header\\\":\\\"系统信息\\\",\\\"is_show\\\":true,\\\"tab_index\\\":\\\"ltr\\\",\\\"column\\\":2,\\\"api_name\\\":\\\"field_R7t46__c\\\",\\\"form_fields\\\":[{\\\"field_name\\\":\\\"created_by\\\",\\\"render_type\\\":\\\"employee\\\",\\\"is_required\\\":false,\\\"is_readonly\\\":true},{\\\"field_name\\\":\\\"create_time\\\",\\\"render_type\\\":\\\"date_time\\\",\\\"is_required\\\":false,\\\"is_readonly\\\":true},{\\\"field_name\\\":\\\"last_modified_by\\\",\\\"render_type\\\":\\\"employee\\\",\\\"is_required\\\":false,\\\"is_readonly\\\":true},{\\\"field_name\\\":\\\"last_modified_time\\\",\\\"render_type\\\":\\\"date_time\\\",\\\"is_required\\\":false,\\\"is_readonly\\\":true}]}]}],\\\"api_name\\\":\\\"layout_hzU9O__c\\\",\\\"is_default\\\":true,\\\"ref_object_api_name\\\":\\\"object_K8gs1__c\\\",\\\"layout_type\\\":\\\"detail\\\",\\\"layout_description\\\":\\\"\\\",\\\"display_name\\\":\\\"默认布局\\\",\\\"_id\\\":\\\"\\\",\\\"version\\\":1,\\\"package\\\":\\\"CRM\\\"}\",\"json_list_layout\":\"{\\\"api_name\\\":\\\"layout_e78in__c\\\",\\\"layout_type\\\":\\\"list\\\",\\\"is_default\\\":false,\\\"version\\\":\\\"1\\\",\\\"ref_object_api_name\\\":\\\"object_K8gs1__c\\\",\\\"is_show_fieldname\\\":true,\\\"agent_type\\\":\\\"agent_type_mobile\\\",\\\"package\\\":\\\"CRM\\\",\\\"display_name\\\":\\\"移动端默认列表页\\\",\\\"components\\\":[{\\\"api_name\\\":\\\"table_component\\\",\\\"type\\\":\\\"table\\\",\\\"ref_object_api_name\\\":\\\"object_K8gs1__c\\\",\\\"include_fields\\\":[{\\\"api_name\\\":\\\"created_by\\\",\\\"label\\\":\\\"创建人\\\",\\\"render_type\\\":\\\"employee\\\"},{\\\"api_name\\\":\\\"last_modified_time\\\",\\\"label\\\":\\\"最后修改时间\\\",\\\"render_type\\\":\\\"date_time\\\"}]}]}\",\"layout_type\":\"detail\"}";

        Map<String, Object> map = JSON.parseObject(json, Map.class);
        String json_list_layout = (String)map.get("json_list_layout");
        String json_layout = (String) map.get("json_layout");
        String json_data = (String) map.get("json_data");

        Map<String,Object> list_layout = JSON.parseObject(json_list_layout, Map.class);
        Map<String,Object> layout = JSON.parseObject(json_layout, Map.class);
        Map<String,Object> data = JSON.parseObject(json_data, Map.class);

        map.put("json_list_layout", list_layout);
        map.put("json_layout", layout);
        map.put("json_data", data);

        System.out.println(JSON.toJSONString(map, true));
    }
}
